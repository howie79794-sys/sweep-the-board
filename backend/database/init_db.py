"""æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
é‡è¦ï¼šæ­¤è„šæœ¬ä»…åˆ›å»ºè¡¨ç»“æ„ï¼Œç»ä¸ä¼šåˆ›å»ºä»»ä½•æµ‹è¯•æ•°æ®ã€‚
æ‰€æœ‰æ•°æ®å¿…é¡»é€šè¿‡ç½‘é¡µç®¡ç†ç•Œé¢æ‰‹åŠ¨åˆ›å»ºï¼Œç¡®ä¿ç”Ÿäº§æ•°æ®æ°¸è¿œä¸ä¼šè¢«è¦†ç›–ã€‚
"""
import os
import sys
from pathlib import Path

# æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ°è·¯å¾„
project_root = Path(__file__).parent.parent.parent
sys.path.insert(0, str(project_root / "backend"))

from database.config import engine, Base, init_db

if __name__ == "__main__":
    try:
        # åˆ›å»ºæ‰€æœ‰è¡¨ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
        print("[æ•°æ®åº“åˆå§‹åŒ–] æ­£åœ¨åˆ›å»ºè¡¨ç»“æ„...")
        init_db()
        print("[æ•°æ®åº“åˆå§‹åŒ–] âœ“ è¡¨ç»“æ„åˆ›å»ºå®Œæˆ")
        print("[æ•°æ®åº“åˆå§‹åŒ–] ğŸ“Œ æ³¨æ„ï¼šä¸ä¼šåˆ›å»ºä»»ä½•æµ‹è¯•æ•°æ®ï¼Œæ‰€æœ‰æ•°æ®éœ€é€šè¿‡ç®¡ç†ç•Œé¢æ‰‹åŠ¨åˆ›å»º")
        
    except Exception as e:
        print(f"[æ•°æ®åº“åˆå§‹åŒ–] âŒ åˆ›å»ºè¡¨ç»“æ„æ—¶å‡ºé”™: {type(e).__name__}: {e}")
        import traceback
        traceback.print_exc()
        raise  # è¡¨åˆ›å»ºå¤±è´¥åº”è¯¥æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºè¿™æ˜¯å…³é”®æ­¥éª¤
